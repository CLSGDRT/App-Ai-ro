FROM python:3.11-slim

WORKDIR /app

COPY requirements.txt ./requirements.txt
RUN pip install --no-cache-dir -r requirements.txt

COPY app-ai-ro-backend/ /app/

# Copier le binaire ollama (ou installer si besoin)
# Adapte le chemin selon ta structure
RUN curl -fsSL https://ollama.com/install.sh | sh

EXPOSE 5001

# Copier script de d√©marrage qui lance ollama serve + flask
COPY start.sh /app/start.sh
RUN chmod +x /app/start.sh

CMD ["/app/start.sh"]
